<div class="login-container">
  <form (ngSubmit)="onSubmit()" [formGroup]="form" autocomplete="off">
    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input
        matInput
        placeholder="username"
        type="text"
        (input)="updateErroeMessage('username')"
        formControlName="username"
      />
      <mat-error>{{ errorMessages.username() }}</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input
        matInput
        placeholder="password"
        type="password"
        (input)="updateErroeMessage('password')"
        formControlName="password"
      />
      <mat-error>{{ errorMessages.password() }}</mat-error>
    </mat-form-field>
    <button mat-flat-button [disabled]="form.invalid">Login</button>
  </form>
  <div class="login-spacer">or</div>
  @if (mode==='Login') {
  <div class="toggle">
    New to MyApp? <span (click)="toggleMode()">Sign in</span>
  </div>
  } @if (mode==='Register') {
    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input
        matInput
        placeholder="username"
        type="text"
        (input)="updateErroeMessage('username')"
        formControlName="username"
      />
      <mat-error>{{ errorMessages.username() }}</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input
        matInput
        placeholder="password"
        type="password"
        (input)="updateErroeMessage('password')"
        formControlName="password"
        />
        <mat-error>{{ errorMessages.password() }}</mat-error>
  }

        <div class="toggle">
          New to MyApp? <span (click)="toggleMode()">Sign in</span>
        </div>
      
      </div>
